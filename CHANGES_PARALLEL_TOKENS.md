# üöÄ –ò–∑–º–µ–Ω–µ–Ω–∏—è: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

## –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ?

### –î–û (–ú–µ–¥–ª–µ–Ω–Ω–æ ‚ùå)

```
–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤: –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û
‚Üí –¢–æ–∫–µ–Ω #1 —Å–æ–∑–¥–∞–µ—Ç—Å—è ‚Üí wait 0.8s
‚Üí –¢–æ–∫–µ–Ω #2 —Å–æ–∑–¥–∞–µ—Ç—Å—è ‚Üí wait 0.8s
‚Üí ...
‚Üí –¢–æ–∫–µ–Ω #72 —Å–æ–∑–¥–∞–µ—Ç—Å—è ‚Üí wait 0.8s

–ò–¢–û–ì–û: ~60 —Å–µ–∫—É–Ω–¥ –¥–ª—è 72 —Ç–æ–∫–µ–Ω–æ–≤
```

### –ü–û–°–õ–ï (–ë—ã—Å—Ç—Ä–æ ‚úÖ)

```
–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤: –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û (10 –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
‚Üí –¢–æ–∫–µ–Ω—ã #1-10 —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
‚Üí –¢–æ–∫–µ–Ω—ã #11-20 —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ  
‚Üí ...
‚Üí –¢–æ–∫–µ–Ω—ã #71-72 —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

–ò–¢–û–ì–û: ~10 —Å–µ–∫—É–Ω–¥ –¥–ª—è 72 —Ç–æ–∫–µ–Ω–æ–≤
```

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `token_pool.py`

**–ò–∑–º–µ–Ω–µ–Ω–æ:** –ú–µ—Ç–æ–¥ `_prewarm_pool()`

- –ë—ã–ª–æ: –°–æ–∑–¥–∞–≤–∞–ª —Ç–æ–∫–µ–Ω—ã –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û (–æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º)
- –°—Ç–∞–ª–æ: –°–æ–∑–¥–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û (10 –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: **6x –±—ã—Å—Ç—Ä–µ–µ!** (60 —Å–µ–∫ ‚Üí 10 —Å–µ–∫)

### 2. `core.py`

**–ò–∑–º–µ–Ω–µ–Ω–æ:** –í—ã–∑–æ–≤ `get_token_pool()`

```python
# –ë—ã–ª–æ:
token_pool = get_token_pool(target_size=num_queries, prewarm=False)
# –¢–æ–∫–µ–Ω—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –ü–û –ó–ê–ü–†–û–°–£ workers (–º–µ–¥–ª–µ–Ω–Ω–æ)

# –°—Ç–∞–ª–æ:
token_pool = get_token_pool(target_size=num_queries, prewarm=True)
# –í—Å–µ —Ç–æ–∫–µ–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ó–ê–†–ê–ù–ï–ï –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û (–±—ã—Å—Ç—Ä–æ)
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

```
–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞:

–î–û:   ~60-70 —Å–µ–∫—É–Ω–¥ (—Ç–æ–∫–µ–Ω—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –ø–æ –º–µ—Ä–µ –∑–∞–ø—Ä–æ—Å–∞)
–ü–û–°–õ–ï: ~10-15 —Å–µ–∫—É–Ω–¥ (–≤—Å–µ —Ç–æ–∫–µ–Ω—ã –≥–æ—Ç–æ–≤—ã –∑–∞—Ä–∞–Ω–µ–µ)

–£—Å–∫–æ—Ä–µ–Ω–∏–µ: 4-6x –±—ã—Å—Ç—Ä–µ–µ! üöÄ
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. **–ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
2. **Token Pool** —Å–æ–∑–¥–∞–µ—Ç 72 —Ç–æ–∫–µ–Ω–∞ –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û:
   - 10 –ø–æ—Ç–æ–∫–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - –ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ —Å–æ–∑–¥–∞–µ—Ç —Ç–æ–∫–µ–Ω + –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–∫—Å–∏
   - –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 0.1s –º–µ–∂–¥—É —Å—Ç–∞—Ä—Ç–∞–º–∏ (anti-ban)
3. **–ó–∞ ~10 —Å–µ–∫—É–Ω–¥ –≤—Å–µ 72 —Ç–æ–∫–µ–Ω–∞ –≥–æ—Ç–æ–≤—ã!**
4. **Workers** —Å—Ç–∞—Ä—Ç—É—é—Ç –°–†–ê–ó–£ —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
5. **–í—Å–µ 72 –∑–∞–ø—Ä–æ—Å–∞** –Ω–∞—á–∏–Ω–∞—é—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ö–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω –ø–æ–ª—É—á–∞–µ—Ç –£–ù–ò–ö–ê–õ–¨–ù–´–ô User-Agent
- ‚úÖ –ö–∞–∂–¥—ã–π —Ç–æ–∫–µ–Ω –ø–æ–ª—É—á–∞–µ—Ç –£–ù–ò–ö–ê–õ–¨–ù–´–ô –ø—Ä–æ–∫—Å–∏
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∞ 0.1s –º–µ–∂–¥—É –Ω–∞—á–∞–ª–æ–º —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (anti-ban)
- ‚úÖ –ú–∞–∫—Å–∏–º—É–º 10 —Ç–æ–∫–µ–Ω–æ–≤ —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ–º Vinted)

## –ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è?

**–°–ï–ô–ß–ê–°!** –≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É–∂–µ –∞–∫—Ç–∏–≤–Ω—ã.

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
[TOKEN_POOL] üî• Pre-warming pool: creating 72 tokens IN PARALLEL...
[TOKEN_POOL] ‚úÖ Token 1/72 ready
[TOKEN_POOL] ‚úÖ Token 2/72 ready
...
[TOKEN_POOL] ‚úÖ Token 72/72 ready
[TOKEN_POOL] ‚úÖ PARALLEL pre-warming complete: 72 tokens in 10.5s!
[TOKEN_POOL] üöÄ That's 6.9 tokens/sec (was 1.2 tokens/sec before)!
```

## –ù–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `ARCHITECTURE_SIMPLE.md` —Å –ø–æ–ª–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º:
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ß—Ç–æ —Ç–∞–∫–æ–µ Query Refresh Delay
- –ö–∞–∫ workers —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –ö–∞–∫ —Ç–æ–∫–µ–Ω—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É workers

**–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –µ–≥–æ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã!**

